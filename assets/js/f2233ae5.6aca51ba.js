"use strict";(globalThis.webpackChunkbackend_docs=globalThis.webpackChunkbackend_docs||[]).push([[4672],{185:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"channels-integration/remaining-channels-integration-guide","title":"REMAINING CHANNELS INTEGRATION","description":"Contains integration for - calendly, shopify, paypal, zoom, telegram, stripe","source":"@site/docs/channels-integration/remaining-channels-integration-guide.md","sourceDirName":"channels-integration","slug":"/channels-integration/remaining-channels-integration-guide","permalink":"/backend-docs/docs/channels-integration/remaining-channels-integration-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/channels-integration/remaining-channels-integration-guide.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Calendar Channels Integration Guide for Web","permalink":"/backend-docs/docs/channels-integration/calendar-channels-integration-guide-web"},"next":{"title":"Facebook Messenger & Instagram Integration Guide for Web","permalink":"/backend-docs/docs/channels-integration/messenger-and-instagram-integration-guide-web"}}');var s=t(4848),d=t(8453);const c={sidebar_position:5},r="REMAINING CHANNELS INTEGRATION",l={},o=[{value:"Contains integration for - calendly, shopify, paypal, zoom, telegram, stripe",id:"contains-integration-for---calendly-shopify-paypal-zoom-telegram-stripe",level:2},{value:"Calendly OAuth Integration",id:"calendly-oauth-integration",level:2},{value:"Overview",id:"overview",level:3},{value:"Flow",id:"flow",level:3},{value:"Disconnect",id:"disconnect",level:3},{value:"Endpoints",id:"endpoints",level:3},{value:"PayPal OAuth Integration",id:"paypal-oauth-integration",level:2},{value:"Flow",id:"flow-1",level:3},{value:"Endpoints",id:"endpoints-1",level:3},{value:"Shopify OAuth Integration",id:"shopify-oauth-integration",level:2},{value:"Flow",id:"flow-2",level:3},{value:"Endpoints",id:"endpoints-2",level:3},{value:"Stripe Connect Integration",id:"stripe-connect-integration",level:2},{value:"Flow",id:"flow-3",level:3},{value:"Endpoints",id:"endpoints-3",level:3},{value:"Zoom OAuth Integration",id:"zoom-oauth-integration",level:2},{value:"Flow",id:"flow-4",level:3},{value:"Endpoints",id:"endpoints-4",level:3},{value:"Telegram Integration",id:"telegram-integration",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Phone Authentication Flow",id:"phone-authentication-flow",level:2},{value:"Step 1: Send Code",id:"step-1-send-code",level:3},{value:"Step 2: Verify Code",id:"step-2-verify-code",level:3},{value:"Step 3: Verify 2FA (if required)",id:"step-3-verify-2fa-if-required",level:3},{value:"QR Authentication Flow",id:"qr-authentication-flow",level:2},{value:"Generate QR Code",id:"generate-qr-code",level:3},{value:"Poll QR Status (state-only)",id:"poll-qr-status-state-only",level:3},{value:"Endpoints",id:"endpoints-5",level:2},{value:"Key Differences",id:"key-differences",level:2},{value:"OAuth Channels",id:"oauth-channels",level:3},{value:"Telegram",id:"telegram",level:3}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"remaining-channels-integration",children:"REMAINING CHANNELS INTEGRATION"})}),"\n",(0,s.jsx)(e.h2,{id:"contains-integration-for---calendly-shopify-paypal-zoom-telegram-stripe",children:"Contains integration for - calendly, shopify, paypal, zoom, telegram, stripe"}),"\n",(0,s.jsx)(e.h2,{id:"calendly-oauth-integration",children:"Calendly OAuth Integration"}),"\n",(0,s.jsx)(e.h3,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(e.p,{children:"Calendly uses OAuth 2.0 with backend-managed redirect flow. Frontend only needs to initiate auth and handle success/error redirects."}),"\n",(0,s.jsx)(e.h3,{id:"flow",children:"Flow"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1. Initiate Authentication"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"const handleCalendlyAuth = () => {\n  const currentPath = window.location.pathname + window.location.search;\n  const encodedPath = encodeURIComponent(currentPath);\n  window.location.href = `${API_BASE}/auth?redirect_path=${encodedPath}`;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2. Handle Backend Redirect"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'useEffect(() => {\n  const params = new URLSearchParams(window.location.search);\n\n  if (params.get("calendly_connected") === "true") {\n    setStatus("\u2705 Calendly connected successfully");\n    loadConnectedAccounts();\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n\n  if (params.get("error")) {\n    setError(decodeURIComponent(params.get("error")));\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n}, []);\n'})}),"\n",(0,s.jsxs)(e.p,{children:["Backend handles the OAuth callback, connects the account, and redirects to frontend with ",(0,s.jsx)(e.code,{children:"?calendly_connected=true"})," or ",(0,s.jsx)(e.code,{children:"?error=..."}),"."]}),"\n",(0,s.jsx)(e.h3,{id:"disconnect",children:"Disconnect"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'const handleDisconnect = async (accountId: number) => {\n  await fetch(`${API_BASE}/disconnect`, {\n    method: "POST",\n    credentials: "include",\n    headers: { "Content-Type": "application/json" },\n    body: JSON.stringify({ accountId }),\n  });\n};\n'})}),"\n",(0,s.jsx)(e.h3,{id:"endpoints",children:"Endpoints"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Endpoint"}),(0,s.jsx)(e.th,{children:"Method"}),(0,s.jsx)(e.th,{children:"Auth"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/calendly/auth"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Initiate OAuth"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/calendly/callback"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Backend callback (auto-redirects)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/calendly/disconnect"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Remove connection"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"paypal-oauth-integration",children:"PayPal OAuth Integration"}),"\n",(0,s.jsx)(e.h3,{id:"flow-1",children:"Flow"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1. Initiate"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"const handlePayPalAuth = () => {\n  const currentPath = window.location.pathname + window.location.search;\n  const encodedPath = encodeURIComponent(currentPath);\n  window.location.href = `${API_BASE}/auth?redirect_path=${encodedPath}`;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2. Handle Redirect"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'useEffect(() => {\n  const params = new URLSearchParams(window.location.search);\n\n  if (params.get("paypal_connected") === "true") {\n    setStatus("\u2705 PayPal connected");\n    loadConnectedAccounts();\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n\n  if (params.get("error")) {\n    setError(decodeURIComponent(params.get("error")));\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n}, []);\n'})}),"\n",(0,s.jsx)(e.h3,{id:"endpoints-1",children:"Endpoints"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Endpoint"}),(0,s.jsx)(e.th,{children:"Method"}),(0,s.jsx)(e.th,{children:"Auth"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/paypal/auth"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Initiate OAuth"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/paypal/callback"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Backend callback"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/paypal/disconnect"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Remove connection"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"shopify-oauth-integration",children:"Shopify OAuth Integration"}),"\n",(0,s.jsx)(e.h3,{id:"flow-2",children:"Flow"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1. Initiate with Shop Domain"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'const handleShopifyAuth = () => {\n  const domain = shopDomain.includes(".myshopify.com")\n    ? shopDomain\n    : `${shopDomain}.myshopify.com`;\n\n  const currentPath = window.location.pathname + window.location.search;\n  const encodedPath = encodeURIComponent(currentPath);\n  window.location.href = `${API_BASE}/auth?shop=${encodeURIComponent(\n    shopDomain\n  )}&redirect_path=${encodedPath}`;\n};\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2. Handle Redirect"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'useEffect(() => {\n  const params = new URLSearchParams(window.location.search);\n\n  if (params.get("shopify_connected") === "true") {\n    setStatus("\u2705 Shopify connected");\n    loadConnectedAccounts();\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n\n  if (params.get("error")) {\n    setError(decodeURIComponent(params.get("error")));\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n}, []);\n'})}),"\n",(0,s.jsx)(e.p,{children:"Backend verifies HMAC signature before connecting."}),"\n",(0,s.jsx)(e.h3,{id:"endpoints-2",children:"Endpoints"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Endpoint"}),(0,s.jsx)(e.th,{children:"Method"}),(0,s.jsx)(e.th,{children:"Auth"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/shopify/auth"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Initiate OAuth with shop"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/shopify/callback"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Verify HMAC & connect"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/shopify/disconnect"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Remove connection"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"stripe-connect-integration",children:"Stripe Connect Integration"}),"\n",(0,s.jsx)(e.h3,{id:"flow-3",children:"Flow"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1. Initiate"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"const handleStripeAuth = () => {\n  const currentPath = window.location.pathname + window.location.searc;\n  const encodedPath = encodeURIComponent(currentPath);\n  window.location.href = `${API_BASE}/auth?redirect_path=${encodedPath}`;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2. Handle Redirect"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'useEffect(() => {\n  const params = new URLSearchParams(window.location.search);\n\n  if (params.get("stripe_connected") === "true") {\n    setStatus("\u2705 Stripe connected");\n    loadConnectedAccounts();\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n\n  if (params.get("error")) {\n    setError(decodeURIComponent(params.get("error")));\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n}, []);\n'})}),"\n",(0,s.jsx)(e.h3,{id:"endpoints-3",children:"Endpoints"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Endpoint"}),(0,s.jsx)(e.th,{children:"Method"}),(0,s.jsx)(e.th,{children:"Auth"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/stripe/auth"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Initiate OAuth"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/stripe/callback"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Backend callback"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/stripe/disconnect"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Remove connection"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"zoom-oauth-integration",children:"Zoom OAuth Integration"}),"\n",(0,s.jsx)(e.h3,{id:"flow-4",children:"Flow"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"1. Initiate"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"const handleZoomAuth = () => {\n  const currentPath = window.location.pathname + window.location.search;\n  const encodedPath = encodeURIComponent(currentPath);\n  window.location.href = `${API_BASE}/auth?redirect_path=${encodedPath}`;\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"2. Handle Redirect"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:'useEffect(() => {\n  const params = new URLSearchParams(window.location.search);\n\n  if (params.get("zoom_connected") === "true") {\n    setStatus("\u2705 Zoom connected");\n    loadConnectedAccounts();\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n\n  if (params.get("error")) {\n    setError(decodeURIComponent(params.get("error")));\n    window.history.replaceState({}, "", window.location.pathname);\n  }\n}, []);\n'})}),"\n",(0,s.jsx)(e.h3,{id:"endpoints-4",children:"Endpoints"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Endpoint"}),(0,s.jsx)(e.th,{children:"Method"}),(0,s.jsx)(e.th,{children:"Auth"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/zoom/auth"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Initiate OAuth"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/zoom/callback"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"No"}),(0,s.jsx)(e.td,{children:"Backend callback"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/zoom/disconnect"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Session"}),(0,s.jsx)(e.td,{children:"Remove connection"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"telegram-integration",children:"Telegram Integration"}),"\n",(0,s.jsx)(e.h3,{id:"overview-1",children:"Overview"}),"\n",(0,s.jsxs)(e.p,{children:["Telegram uses ",(0,s.jsx)(e.strong,{children:"phone/2FA or QR authentication"})," (not OAuth).\nThe frontend drives multi-step flows by calling backend endpoints directly."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"phone-authentication-flow",children:"Phone Authentication Flow"}),"\n",(0,s.jsx)(e.h3,{id:"step-1-send-code",children:"Step 1: Send Code"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'const res = await fetch(`${API_BASE}/connect/phone`, {\n  method: "POST",\n  credentials: "include",\n  headers: { "Content-Type": "application/json" },\n  body: JSON.stringify({ phoneNumber }),\n});\n\nconst { sessionId } = await res.json();\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"step-2-verify-code",children:"Step 2: Verify Code"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'const res = await fetch(`${API_BASE}/connect/verify-code`, {\n  method: "POST",\n  credentials: "include",\n  headers: { "Content-Type": "application/json" },\n  body: JSON.stringify({ sessionId, code }),\n});\n\nconst data = await res.json();\n\nif (data.passwordNeeded) {\n  // Proceed to 2FA\n}\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"step-3-verify-2fa-if-required",children:"Step 3: Verify 2FA (if required)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'await fetch(`${API_BASE}/connect/verify-2fa`, {\n  method: "POST",\n  credentials: "include",\n  headers: { "Content-Type": "application/json" },\n  body: JSON.stringify({ sessionId, password }),\n});\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"qr-authentication-flow",children:"QR Authentication Flow"}),"\n",(0,s.jsx)(e.h3,{id:"generate-qr-code",children:"Generate QR Code"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'const res = await fetch(`${API_BASE}/connect/qr`, {\n  method: "POST",\n  credentials: "include",\n});\n\nconst { qrUrl, sessionId } = await res.json();\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Backend generates a Telegram login token."}),"\n",(0,s.jsxs)(e.li,{children:["Token is embedded in a ",(0,s.jsx)(e.code,{children:"tg://login?token=..."})," QR code."]}),"\n",(0,s.jsx)(e.li,{children:"Token expires automatically (short TTL)."}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"poll-qr-status-state-only",children:"Poll QR Status (state-only)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",children:'const interval = setInterval(async () => {\n  const res = await fetch(\n    `${API_BASE}/connect/qr/check?sessionId=${sessionId}`,\n    { credentials: "include" }\n  );\n\n  const { status } = await res.json();\n\n  if (status === "SUCCESS") {\n    clearInterval(interval);\n    loadConnectedAccounts();\n  }\n\n  if (status === "EXPIRED") {\n    clearInterval(interval);\n    // Regenerate QR\n  }\n}, 2000);\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Status values"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"PENDING"})," \u2013 waiting for user to scan and accept"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"SUCCESS"})," \u2013 Telegram account connected"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"EXPIRED"})," \u2013 QR token expired, generate a new one"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Important"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["This endpoint is ",(0,s.jsx)(e.strong,{children:"read-only"})]}),"\n",(0,s.jsxs)(e.li,{children:["It does ",(0,s.jsx)(e.strong,{children:"not"})," call Telegram APIs"]}),"\n",(0,s.jsx)(e.li,{children:"Frontend never controls expiry timing"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"endpoints-5",children:"Endpoints"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Endpoint"}),(0,s.jsx)(e.th,{children:"Method"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/telegram/connect/phone"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Send login code"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/telegram/connect/verify-code"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Verify login code"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/telegram/connect/verify-2fa"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Verify 2FA password"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/telegram/connect/qr"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Generate QR login session"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/telegram/connect/qr/check"})}),(0,s.jsx)(e.td,{children:"GET"}),(0,s.jsx)(e.td,{children:"Poll QR session status"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"/channels/telegram/disconnect"})}),(0,s.jsx)(e.td,{children:"POST"}),(0,s.jsx)(e.td,{children:"Disconnect Telegram account"})]})]})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"key-differences",children:"Key Differences"}),"\n",(0,s.jsx)(e.h3,{id:"oauth-channels",children:"OAuth Channels"}),"\n",(0,s.jsx)(e.p,{children:"(Calendly, PayPal, Shopify, Stripe, Zoom, Facebook)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Redirect-based authentication"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Backend handles OAuth callbacks"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Success via query params:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"?{channel}_connected=true"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"?error=..."})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"telegram",children:"Telegram"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"No OAuth"}),"\n",(0,s.jsx)(e.li,{children:"Multi-step authentication"}),"\n",(0,s.jsx)(e.li,{children:"Frontend directly calls backend endpoints"}),"\n",(0,s.jsxs)(e.li,{children:["QR login uses ",(0,s.jsx)(e.strong,{children:"MTProto updates"}),", not HTTP callbacks"]}),"\n",(0,s.jsxs)(e.li,{children:["Frontend polling is ",(0,s.jsx)(e.strong,{children:"state-only"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{})]})}function h(n={}){const{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>c,x:()=>r});var i=t(6540);const s={},d=i.createContext(s);function c(n){const e=i.useContext(d);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),i.createElement(d.Provider,{value:e},n.children)}}}]);